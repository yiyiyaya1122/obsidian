---
tags:
  - work
date: 2025-11-20
location: SHANGHAI
---
# âœ… **ä»Šæ—¥å¾…åŠžäº‹é¡¹ï¼ˆTop 3ï¼‰**  
- [ ] ðŸŽ¯ 1.  
- [ ] ðŸ”§ 2.  
- [ ] ðŸ“š 3.  


---
# ðŸ•’ **æ—¶é—´è½´æ—¥å¿—ï¼ˆ07:00 - 23:00ï¼‰**

|      æ—¶é—´æ®µ      |   ðŸ“Œ äº‹é¡¹è®°å½•   | â— é—®é¢˜è®°å½• | ðŸ§© åŽŸå› åˆ†æž | ðŸ› ï¸ è§£å†³æ–¹æ¡ˆ | ðŸš€ å…³é”®è¿›å±• |
| :-----------: | :---------: | :----: | :-----: | :------: | :-----: |
| 08:00 - 09:00 |  ðŸ“‹ è§„åˆ’å…¨å¤©äº‹é¡¹  |        |         |          |         |
| 09:00 - 10:00 |             |        |         |          |         |
| 10:00 - 11:00 |             |        |         |          |         |
| 11:00 - 12:00 |             |        |         |          |         |
| 12:00 - 13:00 | ðŸ½ï¸ åˆé¤ / ä¼‘æ¯ |        |         |          |         |
| 13:00 - 14:00 |             |        |         |          |         |
| 14:00 - 15:00 |             |        |         |          |         |
| 15:00 - 16:00 |             |        |         |          |         |
| 16:00 - 17:00 |             |        |         |          |         |
| 17:00 - 18:00 |             |        |         |          |         |
| 18:00 - 19:00 | ðŸ½ï¸ æ™šé¤ / ä¼‘æ¯ |        |         |          |         |
| 19:00 - 20:00 |             |        |         |          |         |
| 20:00 - 21:00 |             |        |         |          |         |
| 21:00 - 22:00 |   ðŸ“ ä»Šæ—¥æ€»ç»“   |        |         |          |         |


---
# ðŸ’¼ **å·¥ä½œè®°å½•**

> è®°å½•ä»Šæ—¥å…·ä½“å·¥ä½œå†…å®¹ã€PRã€Bug ä¿®å¤ã€ä¼šè®®çºªè¦ã€å…³é”®å†³ç­–ç­‰ã€‚

- ðŸ“Œ å·¥ä½œå†…å®¹ä¸€ï¼š
- ðŸ“Œ å·¥ä½œå†…å®¹äºŒï¼š
- ðŸ“Œ é‡è¦è®¨è®ºï¼š



---
# ðŸ”‹ **ä»Šæ—¥å……ç”µ / å­¦ä¹ **

> é˜…è¯»æ–‡ç« ã€è¯¾ç¨‹ã€è§†é¢‘ã€æŠ€æœ¯æ–‡æ¡£ã€åšå®¢æ‘˜è¦ç­‰

## 1.Gazebo-ROS2æ’ä»¶ä»‹ç»

gazeboæ˜¯ç‹¬ç«‹äºŽROS/ROS2ä¹‹å¤–çš„ä»¿çœŸè½¯ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç‹¬ç«‹ä½¿ç”¨Gazeboã€‚å¦‚æžœæˆ‘ä»¬æƒ³è¦é€šè¿‡ROS2å’ŒGazeboè¿›è¡Œäº¤äº’ï¼Œéœ€è¦é€šè¿‡gazebo_rosæ’ä»¶æ¥è¿›è¡Œã€‚

æŽ¥ä¸‹æ¥å°é±¼å…ˆå¸¦ä½ é€šè¿‡å‘½ä»¤è¡Œçš„å½¢å¼æ¥å¯åŠ¨gazebo-ros2æ’ä»¶ä»¥åŠä½¿ç”¨æ’ä»¶æä¾›çš„æœåŠ¡æ¥å°†fishbotçš„urdfæ¨¡åž‹åœ¨gazeboä¸­æ˜¾ç¤ºå‡ºæ¥ã€‚
### 1.1 å®‰è£…Gazeboæ’ä»¶ 
```shell
sudo apt install ros-humble-gazebo-ros
```
### 1.2 å¯åŠ¨Gazeboå¹¶å¯åŠ¨æ’ä»¶

å®‰è£…å®ŒæˆåŽï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è¡Œæ¥å¯åŠ¨gazeboå¹¶åŠ è½½ros2æ’ä»¶ã€‚
```shell
gazebo --verbose -s libgazebo_ros_init.so -s libgazebo_ros_factory.so
```
çœ‹åˆ°ä¸‹é¢çš„æ—¥å¿—å’ŒGazeboç•Œé¢ä»£è¡¨å¯åŠ¨æˆåŠŸ
```
Gazebo multi-robot simulator, version 11.9.0
Copyright (C) 2012 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org 
[Msg] Waiting for master.
Gazebo multi-robot simulator, version 11.9.0
Copyright (C) 2012 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org
[Msg] Waiting for master.
[Msg] Connected to gazebo master @ http://127.0.0.1:11345
[Msg] Publicized address: 192.168.2.103
[Msg] Loading world file [/usr/share/gazebo-11/worlds/empty.world]
[INFO] [1649151283.208884022] [gazebo_ros_node]: ROS was initialized without arguments.
[Msg] Connected to gazebo master @ http://127.0.0.1:11345
[Msg] Publicized address: 192.168.2.103
```
## 2.æ’ä»¶èŠ‚ç‚¹åŠå…¶æœåŠ¡ä»‹ç»

ä½¿ç”¨ä¸Šè¿°æŒ‡ä»¤å¯å¯åŠ¨Gazeboå¹¶åŠ è½½gazebo_rosæ’ä»¶ï¼Œå¯ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤æ¥çœ‹**æ’ä»¶æä¾›çš„èŠ‚ç‚¹å’ŒæœåŠ¡**

```shell
# æŸ¥çœ‹èŠ‚ç‚¹åˆ—è¡¨
ros2 node list
# è¿”å›ž
/gazebo

# æŸ¥çœ‹æœåŠ¡åˆ—è¡¨
ros2 service list
# è¿”å›ž
/delete_entity
/get_model_list
/spawn_entity
/gazebo/describe_parameters
/gazebo/get_parameter_types
/gazebo/get_parameters
/gazebo/list_parameters
/gazebo/set_parameters
/gazebo/set_parameters_atomically
```

é™¤åŽ»å’Œå‚æ•°ç›¸å…³çš„å‡ ä¸ªæœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦å¤–ä¸‰ä¸ªç‰¹æ®ŠæœåŠ¡ï¼š

- /spawn_entityï¼Œç”¨äºŽåŠ è½½æ¨¡åž‹åˆ°gazeboä¸­
- /get_model_listï¼Œç”¨äºŽèŽ·å–æ¨¡åž‹åˆ—è¡¨
- /delete_entityï¼Œç”¨äºŽåˆ é™¤gazbeoä¸­å·²ç»åŠ è½½çš„æ¨¡åž‹

æˆ‘ä»¬æƒ³è¦è®©gazeboæ˜¾ç¤ºå‡ºæˆ‘ä»¬é…ç½®å¥½çš„fishbotä½¿ç”¨/spawn_entityæ¥åŠ è½½å³å¯ã€‚
æŽ¥ç€æˆ‘ä»¬å¯ä»¥æ¥è¯·æ±‚æœåŠ¡æ¥åŠ è½½æ¨¡åž‹ï¼Œå°é±¼å…ˆå¸¦ä½ çœ‹ä¸€ä¸‹æœåŠ¡çš„æŽ¥å£ç±»åž‹ã€‚
```shell
ros2 service type /spawn_entity
# è¿”å›ž
gazebo_msgs/srv/SpawnEntity

ros2 interface show gazebo_msgs/srv/SpawnEntity

string name # Name of the entity to be spawned (optional).
string xml # Entity XML description as a string, either URDF or SDF.
string robot_namespace # Spawn robot and all ROS interfacs under this namespace
geometry_msgs/Pose initial_pose # Initial entity pose.
string reference_frame # initial_pose is defined relative to the frame of this entity.
# If left empty or "world" or "map", then gazebo world frame is
# used.
# If non-existent entity is specified, an error is returned
# and the entity is not spawned.
---
bool success # Return true if spawned successfully.
string status_message # Comments if available.


```

  å¯ä»¥çœ‹åˆ°æœåŠ¡çš„è¯·æ±‚å†…å®¹åŒ…æ‹¬ï¼š

- string name ï¼Œéœ€è¦åŠ è½½çš„å®žä½“çš„åç§° (å¯é€‰çš„)ã€‚
- string xml ï¼Œå®žä½“çš„XMLæè¿°å­—ç¬¦ä¸², URDFæˆ–è€…SDFã€‚
- string robot_namespace ï¼Œäº§ç”Ÿçš„æœºå™¨äººå’Œæ‰€æœ‰çš„ROSæŽ¥å£çš„å‘½åç©ºé—´ï¼Œå¤šæœºå™¨äººä»¿çœŸçš„æ—¶å€™å¾ˆæœ‰ç”¨ã€‚
- geometry_msgs/Pose initial_pose ï¼Œæœºå™¨äººçš„åˆå§‹åŒ–ä½ç½®
- string reference_frame ï¼Œåˆå§‹å§¿æ€æ˜¯ç›¸å¯¹äºŽè¯¥å®žä½“çš„frameå®šä¹‰çš„ã€‚å¦‚æžœä¿æŒ"empty"æˆ–"world"æˆ–â€œmapâ€ï¼Œåˆ™ä½¿ç”¨ gazeboçš„worldä½œä¸ºframeã€‚å¦‚æžœæŒ‡å®šäº†ä¸å­˜åœ¨çš„å®žä½“ï¼Œåˆ™ä¼šè¿”å›žé”™è¯¯

## 3.è°ƒç”¨æœåŠ¡åŠ è½½fishbot

å‘½ä»¤è¡Œè¾“å…¥rqtï¼Œåœ¨æ’ä»¶é€‰é¡¹ä¸­é€‰æ‹©Services->Service Caller,ç„¶åŽå†ä¸‹æ‹‰æ¡†é€‰æ‹©/spawn_entityæœåŠ¡ï¼Œå³å¯çœ‹åˆ°ä¸‹é¢çš„ç•Œé¢ã€‚
![[image-20220405233406029.png]]

æŽ¥ç€æˆ‘ä»¬æŠŠæˆ‘ä»¬çš„FishBotçš„URDFæ¨¡åž‹å¤åˆ¶ç²˜è´´ï¼Œæ”¾åˆ°xmlä¸­ï¼ˆæ³¨æ„è¦æŠŠåŽŸæ¥çš„''åˆ æŽ‰å“¦ï¼ï¼‰ï¼Œç„¶åŽæ‹¿èµ·æˆ‘ä»¬çš„å°ç”µè¯ï¼Œå’Œå°é±¼ä¸€èµ·Callã€‚
![[image-20220405233825788.png]]

æŽ¥ç€å°±å¯ä»¥çœ‹åˆ°å·¥åŽ‚è¿”å›žè¯´æˆåŠŸæŠŠæœºå™¨äººåˆ¶ä½œå‡ºæ¥é€å…¥gazeboäº†ã€‚
![[image-20220405234507958.png]]

æ­¤æ—¶å†çœ‹æˆ‘ä»¬çš„Gazebo,ä¸€ä¸ªå°å°çš„ï¼Œç™½ç™½çš„æœºå™¨äººå‡ºçŽ°äº†ã€‚
  ![[image-20220405233947338.png]]
### 3.5 æŸ¥è¯¢å’Œåˆ é™¤æœºå™¨äºº

åˆ©ç”¨rqtå·¥å…·ï¼Œæˆ‘ä»¬å†å¯¹å¦å¤–ä¸¤ä¸ªæœåŠ¡æŽ¥å£è¿›è¡Œè¯·æ±‚ã€‚
![[image-20220405234948237.png]]  

æŸ¥åˆ°äº†ä¸‰ä¸ªæ¨¡åž‹ï¼Œä¸€ä¸ªå¤§åœ°ï¼Œä¸€ä¸ªfishbotï¼Œä¸€ä¸ªfishbot_0ã€‚

æˆ‘ä»¬æŽ¥ç€å°è¯•æŠŠfishbot_0åˆ æŽ‰ï¼Œé€‰æ‹©åˆ é™¤å®žä½“ï¼Œè¾“å…¥fishbot_0çš„åå­—ï¼Œæ‹¿èµ·å°ç”µè¯é€šçŸ¥å·¥åŽ‚å›žæ”¶æˆ‘ä»¬çš„0å·fishbotã€‚
![[image-20220405235058954.png]]

è°ƒç”¨æˆåŠŸï¼Œè§‚å¯Ÿgazeboå‘çŽ°æœºå™¨äººæ²¡äº†  
  
## 4. å°†å¯åŠ¨gazeboå’Œç”Ÿäº§fishbotå†™æˆlaunchæ–‡ä»¶
 
æ‰“å¼€fishbotå·¥ä½œç©ºé—´ï¼Œåœ¨`src/fishbot_description/launch`ä¸­æ·»åŠ ä¸€ä¸ª`gazebo.launch.py`æ–‡ä»¶ï¼Œæˆ‘ä»¬å¼€å§‹ç¼–å†™launchæ–‡ä»¶æ¥åœ¨gazeboä¸­åŠ è½½æœºå™¨äººæ¨¡åž‹ã€‚

å¯åŠ¨gazeboï¼Œæˆ‘ä»¬å¯ä»¥å°†å‘½ä»¤è¡Œå†™æˆä¸€ä¸ªlaunchèŠ‚ç‚¹

```python
ExecuteProcess(
cmd=['gazebo', '--verbose','-s', 'libgazebo_ros_init.so', '-s', 'libgazebo_ros_factory.so', gazebo_world_path],output='screen')
```

ä¸Šé¢æˆ‘ä»¬åŠ è½½æœºå™¨äººæ˜¯ç›´æŽ¥å°†XMLæ ¼å¼çš„URDFå¤åˆ¶è¿‡åŽ»è¿›è¡ŒåŠ è½½çš„ï¼Œè¿™æ ·å¾ˆä¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨gazebo_rosä¸ºæˆ‘ä»¬æä¾›å¥½çš„ä¸€ä¸ªå«åš`spawn_entity.py`èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹æ”¯æŒä»Žæ–‡ä»¶åœ°å€ç›´æŽ¥ç”Ÿäº§æœºå™¨äººåˆ°Gazeboã€‚

æœ€ç»ˆå†™å¥½çš„launchæ–‡ä»¶å¦‚ä¸‹ï¼š
```python
import os
from launch import LaunchDescription
from launch.actions import ExecuteProcess
from launch_ros.actions import Node
from launch_ros.substitutions import FindPackageShare

def generate_launch_description():
    robot_name_in_model = 'fishbot'
    package_name = 'fishbot_description'
    urdf_name = "fishbot_gazebo.urdf"
    
    ld = LaunchDescription()
    pkg_share = FindPackageShare(package=package_name).find(package_name) 
    gazebo_world_path = os.path.join(pkg_share, 'world/fishbot.world')
    urdf_model_path = os.path.join(pkg_share, f'urdf/{urdf_name}')

    # Start Gazebo server
    start_gazebo_cmd =  ExecuteProcess(
        cmd=['gazebo', '--verbose','-s', 'libgazebo_ros_init.so', '-s', 'libgazebo_ros_factory.so', gazebo_world_path],
        output='screen')

    # Launch the robot
    spawn_entity_cmd = Node(
        package='gazebo_ros', 
        executable='spawn_entity.py',
        arguments=['-entity', robot_name_in_model,  '-file', urdf_model_path ], output='screen')

    ld.add_action(start_gazebo_cmd)
    ld.add_action(spawn_entity_cmd)

    return ld
```

ç¼–è¯‘è¿è¡Œ  
```bash
colcon build --packages-select fishbot_description
source install/setup.bash
ros2 launch fishbot_description gazebo.launch.py
```

## 5.Gazeboä¸­worldä»‹ç»

worldå³ä¸–ç•Œï¼Œgazeboçš„worldæ–‡ä»¶å°±æ˜¯ç”¨äºŽæè¿°ä¸–ç•Œæ¨¡åž‹çš„ï¼Œä¹Ÿå°±æ˜¯çŽ¯å¢ƒæ¨¡åž‹ã€‚

Gazeboå·²ç»ä¸ºæˆ‘ä»¬å‡†å¤‡äº†å¾ˆå¤šå¸¸ç”¨çš„ç‰©ä½“æ¨¡åž‹ï¼Œé™¤äº†åŸºç¡€çš„åœ†çƒï¼Œåœ†æŸ±ï¼Œç«‹æ–¹ä½“å¤–çš„ï¼Œå…¶å®žè¿˜æœ‰é£žæœºã€æ±½è½¦ã€æˆ¿å­ç­‰ä½ çŽ°å®žä¸­æ— æ³•æ‹¥æœ‰çš„ã€‚

ä½†æ˜¯ä¸€å¼€å§‹å®‰è£…Gazeboçš„æ—¶å€™å¹¶ä¸ä¼šå¸®ä½ ä¸‹è½½å¥½è¿™äº›æ¨¡åž‹ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä¸‹è½½ï¼Œä¸‡å¹¸çš„æ˜¯å°é±¼å·²ç»å¸®ä½ å°è£…æˆäº†ä¸€è¡Œä»£ç ä¸‹è½½æŒ‡ä»¤ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œå¤åˆ¶ç²˜è´´ä¸‹é¢è¿™å¥:
```shell
cd ~/.gazebo && wget https://gitee.com/ohhuo/scripts/raw/master/gazebo_model.py && python3 gazebo_model.py
```

ç„¶åŽç­‰å¾…è„šæœ¬è¿è¡Œå®Œæˆï¼Œå½“ç„¶ä¹Ÿä¸ç”¨ç­‰å®ƒå®Œæˆï¼Œå› ä¸ºä¸€å…±æœ‰281ä¸ªæ¨¡åž‹ï¼Œæ˜¯é€ä¸€ä¸‹è½½å¹¶è§£åŽ‹åˆ°`~/.gazebo/models/`ç›®å½•çš„ã€‚

æ­¤æ—¶å†æ¬¡æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥`gazebo`ï¼ŒæŠŠé€‰é¡¹å¡åˆ‡æ¢åˆ°Insert

åœ¨Inserté€‰é¡¹å¡ä¸‹å¯ä»¥çœ‹åˆ°ä¸€ä¸ªç›®å½•ï¼Œä»¥åŠç›®å½•ä¸‹çš„æ¨¡åž‹åç§°ï¼Œéšç€ä¸‹è½½è„šæœ¬çš„ä¸æ–­ä¸‹è½½ï¼Œè¿™é‡Œçš„æ¨¡åž‹ä¼šè¶Šæ¥è¶Šå¤šã€‚
![[image-20220415190947423.png]]  

éšæ‰‹æ‹–å‡ ä¸ªï¼Œæ­å»ºä¸€ä¸ªæ¼‚äº®çš„çŽ¯å¢ƒå‡ºæ¥~


åŠ è½½worldå…¶å®žä¹Ÿå¾ˆç®€å•ï¼Œå¯ä»¥å…ˆå¯åŠ¨Gazeboï¼Œå†æ‰‹åŠ¨çš„åŠ è½½æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨Gazeboå¯åŠ¨æ—¶åŠ è½½ï¼š
æ¯”å¦‚åœ¨å‰é¢åŠ è½½ROS2æ’ä»¶åŸºç¡€ä¸Šå†åŠ è½½fishbot.worldã€‚ 
```
gazebo --verbose -s libgazebo_ros_init.so -s libgazebo_ros_factory.so ä½ çš„worldæ–‡ä»¶ç›®å½•/fishbot.world

gazebo src/fishbot_description/worlds/cafe.world
```

---
# ðŸ§  **æ€»ç»“ä¸Žåæ€**

| é¡¹ç›®         | å†…å®¹          |
| ---------- | ----------- |
| ðŸŽ¯ æ˜¯å¦è¾¾æˆç›®æ ‡  | âœ… / âŒï¼ˆç®€è¦è¯´æ˜Žï¼‰ |
| ðŸ§± ä»Šæ—¥é‡åˆ°çš„å›°éš¾ | ...         |
| ðŸ§° è§£å†³æ–¹æ³•    | ...         |
| âœ¨ æ˜Žæ—¥ä¼˜åŒ–ç‚¹    | ...         |
| ðŸ’­ ä»Šæ—¥æ„Ÿå—    | ...         |

---
# ðŸ“Œ **æ˜Žæ—¥è®¡åˆ’**

- [ ] âœ… å·¥ä½œç›®æ ‡ 1  
- [ ] ðŸ§ª å­¦ä¹  / å®žéªŒ 2  
- [ ] ðŸ“¬ è·Ÿè¿›äº‹é¡¹ 3  



---
# ðŸ“· å°ç»“å›¾åƒ / çµæ„Ÿï¼ˆå¯é€‰ï¼‰

> å¯æ’å…¥æˆªå›¾ã€è‰å›¾ã€è„‘å›¾æˆ–çµæ„Ÿç‚¹å­ç­‰  
> `![æˆªå›¾](assets/daily-2025-11-20.png)`





---
# ðŸ“Ž å¤‡æ³¨  
> è‡ªå®šä¹‰æ ‡ç­¾: `#daily #log #2025-11-20`
